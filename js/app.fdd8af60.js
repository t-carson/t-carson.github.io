(function(t){function e(e){for(var s,r,o=e[0],n=e[1],c=e[2],u=0,d=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(l,r)&&l[r]&&d.push(l[r][0]),l[r]=0;for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s]);m&&m(e);while(d.length)d.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,o=1;o<a.length;o++){var n=a[o];0!==l[n]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},l={app:0},i=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],n=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var m=n;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("85ec"),l=a.n(s);l.a},"22de":function(t,e,a){"use strict";var s=a("8319"),l=a.n(s);l.a},"38c8":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],r=(a("034f"),a("2877")),o={},n=Object(r["a"])(o,l,i,!1,null,null,null),c=n.exports,m=a("5c96"),u=a.n(m);a("0fae");s["default"].use(u.a);var d=a("8c4f"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"log-container"},[a("el-card",{staticClass:"login-card",attrs:{header:"请先登录"}},[a("el-form",{nativeOn:{submit:function(e){return e.preventDefault(),t.login(e)}}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{model:{value:t.model.username,callback:function(e){t.$set(t.model,"username",e)},expression:"model.username"}})],1),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{attrs:{type:"password"},model:{value:t.model.password,callback:function(e){t.$set(t.model,"password",e)},expression:"model.password"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("登录")])],1)],1)],1)],1)},h=[],f={data(){return{model:{username:"admin",password:"admin"}}},methods:{async login(){const t=await this.$http.post("login",this.model);localStorage.setItem("token",t.data.token),localStorage.setItem("info",JSON.stringify(this.model)),this.$router.push("/"),this.$message({type:"success",message:"欢迎进入后台管理程序!"})}}},b=f,v=(a("d6db"),Object(r["a"])(b,p,h,!1,null,null,null)),g=v.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-container",{staticStyle:{height:"100vh",border:"1px solid #eee"}},[a("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"200px"}},[a("el-menu",{attrs:{router:"","unique-opened":"","default-active":t.$route.path}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-message"}),t._v("内容管理 ")]),a("el-menu-item-group",[a("template",{slot:"title"},[t._v("物品")]),a("el-menu-item",{attrs:{index:"/items/create"}},[t._v("新建物品")]),a("el-menu-item",{attrs:{index:"/items/list"}},[t._v("物品列表")])],2),a("el-menu-item-group",[a("template",{slot:"title"},[t._v("英雄")]),a("el-menu-item",{attrs:{index:"/heroes/create"}},[t._v("新建英雄")]),a("el-menu-item",{attrs:{index:"/heroes/list"}},[t._v("英雄列表")])],2)],2),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-message"}),t._v("运营管理 ")]),a("el-menu-item-group",[a("template",{slot:"title"},[t._v("文章")]),a("el-menu-item",{attrs:{index:"/articles/create"}},[t._v("新建文章")]),a("el-menu-item",{attrs:{index:"/articles/list"}},[t._v("文章编辑")])],2),a("el-menu-item-group",[a("template",{slot:"title"},[t._v("广告位")]),a("el-menu-item",{attrs:{index:"/ads/create"}},[t._v("新建广告位")]),a("el-menu-item",{attrs:{index:"/ads/list"}},[t._v("广告位列表")])],2)],2),a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-message"}),t._v("系统设置 ")]),a("el-menu-item-group",[a("template",{slot:"title"},[t._v("分类")]),a("el-menu-item",{attrs:{index:"/categories/create"}},[t._v("新建分类")]),a("el-menu-item",{attrs:{index:"/categories/list"}},[t._v("分类列表")])],2),a("el-menu-item-group",[a("template",{slot:"title"},[t._v("管理员")]),a("el-menu-item",{attrs:{index:"/admin_user/create"}},[t._v("新建管理员")]),a("el-menu-item",{attrs:{index:"/admin_user/list"}},[t._v("管理员列表")])],2)],2)],1)],1),a("el-container",[a("el-header",{staticStyle:{"text-align":"right","font-size":"12px","border-bottom":"2px dashed rgb(230,230,230)"}},[a("el-dropdown",{attrs:{size:"mini","split-button":"",type:"primary"}},[t._v(" "+t._s(t.info)+" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("span",{on:{click:t.logout}},[t._v("安全退出")])])],1)],1)],1),a("el-main",[a("router-view")],1)],1),t._v("heroes ")],1)],1)},_=[],$={data(){const t={};return{info:null,tableData:Array(20).fill(t)}},created(){const t=JSON.parse(localStorage.getItem("info"));this.info=t.username},methods:{logout(){window.localStorage.clear(),this.$router.push("/login"),this.$message.success("退出成功!")}}},w=$,x=(a("22de"),Object(r["a"])(w,y,_,!1,null,null,null)),k=x.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("h1",[t._v(t._s(t.id?"编辑":"新建")+"分类")]),a("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save(e)}}},[a("el-form-item",{attrs:{label:"上级分类"}},[a("el-select",{model:{value:t.model.parent,callback:function(e){t.$set(t.model,"parent",e)},expression:"model.parent"}},t._l(t.parents,(function(t){return a("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1),a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("保存")])],1)],1)],1)},C=[],S={props:{id:{}},data(){return{model:{},parents:[]}},methods:{async save(){let t;t=this.id?await this.$http.put("rest/categories/"+this.id,this.model):await this.$http.post("rest/categories",this.model),this.$router.push("/categories/list"),this.$message({type:"success",message:"保存成功"})},async fetch(){const t=await this.$http.get("rest/categories/"+this.id);this.model=t.data},async fetchParents(){const t=await this.$http.get("rest/categories");this.parents=t.data}},created(){this.fetchParents(),this.id&&this.fetch()}},j=S,T=Object(r["a"])(j,O,C,!1,null,null,null),E=T.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("h1",[t._v("分类列表")]),a("el-table",{attrs:{data:t.items}},[a("el-table-column",{attrs:{prop:"_id",label:"ID",width:"240"}}),a("el-table-column",{attrs:{prop:"parent.name",label:"上级分类"}}),a("el-table-column",{attrs:{prop:"name",label:"分类名称"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.$router.push("/categories/edit/"+e.row._id)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(a){return t.remove(e.row)}}},[t._v("删除")])]}}])})],1)],1)},B=[],I={data(){return{items:[]}},methods:{async fetch(){const t=await this.$http.get("rest/categories");this.items=t.data},async remove(t){this.$confirm(`是否确定要删除【${t.name}】`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{await this.$http.delete("rest/categories/"+t._id);this.$message({type:"success",message:"删除成功!"}),this.fetch()})}},created(){this.fetch()}},P=I,U=Object(r["a"])(P,D,B,!1,null,null,null),A=U.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("h1",[t._v(t._s(t.id?"编辑":"新建")+"物品")]),a("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save(e)}}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),a("el-form-item",{attrs:{label:"图标"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,headers:t.getAuthHeader(),"show-file-list":!1,"on-success":t.afterUpload}},[t.model.icon?a("img",{staticClass:"avatar",attrs:{src:t.model.icon}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("保存")])],1)],1)],1)},H=[],M={props:{id:{}},data(){return{model:{}}},methods:{afterUpload(t){this.$set(this.model,"icon",t.url)},async save(){let t,e=!1;this.id?(t=await this.$http.put("rest/items/"+this.id,this.model),e=!0):this.model.icon&&this.model.name?(t=await this.$http.post("rest/items",this.model),e=!0):this.$message.error("请填写名称和图标"),e&&(this.$router.push("/items/list"),this.$message({type:"success",message:"保存成功"}))},async fetch(){const t=await this.$http.get("rest/items/"+this.id);this.model=t.data}},created(){this.id&&this.fetch()}},J=M,L=Object(r["a"])(J,z,H,!1,null,null,null),R=L.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("h1",[t._v("物品列表")]),a("el-table",{attrs:{data:t.items}},[a("el-table-column",{attrs:{prop:"_id",label:"ID",width:"240"}}),a("el-table-column",{attrs:{prop:"name",label:"物品名称"}}),a("el-table-column",{attrs:{prop:"icon",label:"物品图标"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticStyle:{height:"3rem"},attrs:{src:t.row.icon}})]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.$router.push("/items/edit/"+e.row._id)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(a){return t.remove(e.row)}}},[t._v("删除")])]}}])})],1)],1)},N=[],F={data(){return{items:[]}},methods:{async fetch(){const t=await this.$http.get("rest/items");this.items=t.data},async remove(t){this.$confirm(`确定要删除【${t.name}】`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{await this.$http.delete("rest/items/"+t._id);this.$message({type:"success",message:"删除成功!"}),await this.fetch()})}},created(){this.fetch()}},V=F,G=Object(r["a"])(V,q,N,!1,null,null,null),K=G.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("h1",[t._v(t._s(t.id?"编辑":"新建")+"英雄")]),a("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save(e)}}},[a("el-tabs",[a("el-tab-pane",{attrs:{label:"基础信息"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),a("el-form-item",{attrs:{label:"称号"}},[a("el-input",{model:{value:t.model.title,callback:function(e){t.$set(t.model,"title",e)},expression:"model.title"}})],1),a("el-form-item",{attrs:{label:"头像"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,headers:t.getAuthHeader(),"show-file-list":!1,"on-success":t.afterUpload}},[t.model.avatar?a("img",{staticClass:"avatar",attrs:{src:t.model.avatar}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"定位"}},[a("el-select",{attrs:{multiple:""},model:{value:t.model.categories,callback:function(e){t.$set(t.model,"categories",e)},expression:"model.categories"}},t._l(t.categories,(function(t){return a("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1),a("el-form-item",{attrs:{label:"难度"}},[a("el-rate",{staticStyle:{"margin-top":"0.7rem"},attrs:{max:10,"show-score":""},model:{value:t.model.scores.difficult,callback:function(e){t.$set(t.model.scores,"difficult",e)},expression:"model.scores.difficult"}})],1),a("el-form-item",{attrs:{label:"技能"}},[a("el-rate",{staticStyle:{"margin-top":"0.7rem"},attrs:{max:10,"show-score":""},model:{value:t.model.scores.skills,callback:function(e){t.$set(t.model.scores,"skills",e)},expression:"model.scores.skills"}})],1),a("el-form-item",{attrs:{label:"攻击"}},[a("el-rate",{staticStyle:{"margin-top":"0.7rem"},attrs:{max:10,"show-score":""},model:{value:t.model.scores.attack,callback:function(e){t.$set(t.model.scores,"attack",e)},expression:"model.scores.attack"}})],1),a("el-form-item",{attrs:{label:"生存"}},[a("el-rate",{staticStyle:{"margin-top":"0.7rem"},attrs:{max:10,"show-score":""},model:{value:t.model.scores.survive,callback:function(e){t.$set(t.model.scores,"survive",e)},expression:"model.scores.survive"}})],1),a("el-form-item",{attrs:{label:"顺风出装"}},[a("el-select",{attrs:{multiple:""},model:{value:t.model.items1,callback:function(e){t.$set(t.model,"items1",e)},expression:"model.items1"}},t._l(t.items,(function(t){return a("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1),a("el-form-item",{attrs:{label:"逆风出装"}},[a("el-select",{attrs:{multiple:""},model:{value:t.model.items2,callback:function(e){t.$set(t.model,"items2",e)},expression:"model.items2"}},t._l(t.items,(function(t){return a("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1),a("el-form-item",{attrs:{label:"使用技巧"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.model.usageTips,callback:function(e){t.$set(t.model,"usageTips",e)},expression:"model.usageTips"}})],1),a("el-form-item",{attrs:{label:"对抗技巧"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.model.battleTips,callback:function(e){t.$set(t.model,"battleTips",e)},expression:"model.battleTips"}})],1),a("el-form-item",{attrs:{label:"团战思路"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.model.teamTips,callback:function(e){t.$set(t.model,"teamTips",e)},expression:"model.teamTips"}})],1)],1),a("el-tab-pane",{attrs:{label:"技能介绍"}},[a("el-button",{attrs:{size:"small"},on:{click:function(e){return t.model.skills.push({})}}},[a("i",{staticClass:"el-icon-plus"}),t._v(" 添加技能")]),a("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},t._l(t.model.skills,(function(e,s){return a("el-col",{key:s,attrs:{md:12}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"item.name"}})],1),a("el-form-item",{attrs:{label:"图标"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,"show-file-list":!1,"on-success":function(a){return t.$set(e,"icon",a.url)}}},[e.icon?a("img",{staticClass:"avatar",attrs:{src:e.icon}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.description,callback:function(a){t.$set(e,"description",a)},expression:"item.description"}})],1),a("el-form-item",{attrs:{label:"小提示"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.tips,callback:function(a){t.$set(e,"tips",a)},expression:"item.tips"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(e){return t.model.skills.splice(s,1)}}},[t._v("删除")])],1)],1)})),1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("保存")])],1)],1)],1)},W=[],X={props:{id:{}},data(){return{categories:[],items:[],model:{name:"",avatar:"",skills:[],scores:{difficult:0}}}},methods:{afterUpload(t){this.model.avatar=t.url},async save(){let t;t=this.id?await this.$http.put("rest/heroes/"+this.id,this.model):await this.$http.post("rest/heroes",this.model),this.$router.push("/heroes/list"),this.$message({type:"success",message:"保存成功"})},async fetch(){const t=await this.$http.get("rest/heroes/"+this.id);this.model=Object.assign({},this.model,t.data)},async fetchCategories(){const t=await this.$http.get("rest/categories");this.categories=t.data},async fetchItems(){const t=await this.$http.get("rest/items");this.items=t.data}},created(){this.fetchItems(),this.fetchCategories(),this.id&&this.fetch()}},Y=X,Z=Object(r["a"])(Y,Q,W,!1,null,null,null),tt=Z.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("h1",[t._v("英雄列表")]),a("el-table",{attrs:{data:t.items}},[a("el-table-column",{attrs:{prop:"_id",label:"ID",width:"240"}}),a("el-table-column",{attrs:{prop:"name",label:"英雄名称"}}),a("el-table-column",{attrs:{prop:"title",label:"称号"}}),a("el-table-column",{attrs:{prop:"avatar",label:"头像"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticStyle:{height:"3rem"},attrs:{src:t.row.avatar}})]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.$router.push("/heroes/edit/"+e.row._id)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(a){return t.remove(e.row)}}},[t._v("删除")])]}}])})],1)],1)},at=[],st={data(){return{items:[]}},methods:{async fetch(){const t=await this.$http.get("rest/heroes");this.items=t.data},async remove(t){this.$confirm(`确定要删除【${t.name}】`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{await this.$http.delete("rest/heroes/"+t._id);this.$message({type:"success",message:"删除成功!"}),this.fetch()})}},created(){this.fetch()}},lt=st,it=Object(r["a"])(lt,et,at,!1,null,null,null),rt=it.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("h1",[t._v(t._s(t.id?"编辑":"新建")+"文章")]),a("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save(e)}}},[a("el-form-item",{attrs:{label:"分类分类"}},[a("el-select",{attrs:{multiple:""},model:{value:t.model.categories,callback:function(e){t.$set(t.model,"categories",e)},expression:"model.categories"}},t._l(t.categories,(function(t){return a("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1),a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{model:{value:t.model.title,callback:function(e){t.$set(t.model,"title",e)},expression:"model.title"}})],1),a("el-form-item",{attrs:{label:"详情"}},[a("vue-editor",{attrs:{useCustomImageHandler:""},on:{"image-added":t.handleImageAdded},model:{value:t.model.body,callback:function(e){t.$set(t.model,"body",e)},expression:"model.body"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("保存")])],1)],1)],1)},nt=[],ct=a("5873"),mt={props:{id:{}},components:{VueEditor:ct["a"]},data(){return{model:{},categories:[]}},methods:{async handleImageAdded(t,e,a,s){const l=new FormData;l.append("file",t);const i=await this.$http.post("upload",l);e.insertEmbed(a,"image",i.data.url),s()},async save(){let t;t=this.id?await this.$http.put("rest/articles/"+this.id,this.model):await this.$http.post("rest/articles",this.model),this.$router.push("/articles/list"),this.$message({type:"success",message:"保存成功"})},async fetch(){const t=await this.$http.get("rest/articles/"+this.id);this.model=t.data},async fetchCatgories(){const t=await this.$http.get("rest/categories");this.categories=t.data}},created(){this.fetchCatgories(),this.id&&this.fetch()}},ut=mt,dt=Object(r["a"])(ut,ot,nt,!1,null,null,null),pt=dt.exports,ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("h1",[t._v("文章列表")]),a("el-table",{attrs:{data:t.items}},[a("el-table-column",{attrs:{prop:"_id",label:"ID",width:"240"}}),a("el-table-column",{attrs:{prop:"title",label:"标题"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.$router.push("/articles/edit/"+e.row._id)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(a){return t.remove(e.row)}}},[t._v("删除")])]}}])})],1)],1)},ft=[],bt={data(){return{items:[]}},methods:{async fetch(){const t=await this.$http.get("rest/articles");this.items=t.data},async remove(t){this.$confirm(`是否确定要删除【${t.title}】`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{await this.$http.delete("rest/articles/"+t._id);this.$message({type:"success",message:"删除成功!"}),this.fetch()})}},created(){this.fetch()}},vt=bt,gt=Object(r["a"])(vt,ht,ft,!1,null,null,null),yt=gt.exports,_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("h1",[t._v(t._s(t.id?"编辑":"新建")+"广告位")]),a("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save(e)}}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),a("el-form-item",{attrs:{label:"广告"}},[a("el-button",{attrs:{disabled:t.model.items.length>4,size:"small"},on:{click:function(e){return t.model.items.push({})}}},[a("i",{staticClass:"el-icon-plus"}),t._v(" 添加广告")]),a("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},t._l(t.model.items,(function(e,s){return a("el-col",{key:s,attrs:{md:24}},[a("el-form-item",{attrs:{label:"跳转链接(URL)"}},[a("el-input",{model:{value:e.url,callback:function(a){t.$set(e,"url",a)},expression:"item.url"}})],1),a("el-form-item",{staticStyle:{"margin-top":"1rem"},attrs:{label:"图片"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,headers:t.getAuthHeader(),"show-file-list":!1,"on-success":function(a){return t.$set(e,"image",a.url)}}},[e.image?a("img",{staticClass:"avatar",attrs:{src:e.image}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",[a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(e){return t.model.items.splice(s,1)}}},[t._v("删除")])],1)],1)})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("保存")])],1)],1)],1)},$t=[],wt={props:{id:{}},data(){return{model:{items:[]}}},methods:{async save(){let t;t=this.id?await this.$http.put("rest/ads/"+this.id,this.model):await this.$http.post("rest/ads",this.model),this.$router.push("/ads/list"),this.$message({type:"success",message:"保存成功"})},async fetch(){const t=await this.$http.get("rest/ads/"+this.id);this.model=Object.assign({},this.model,t.data)}},created(){this.id&&this.fetch()}},xt=wt,kt=Object(r["a"])(xt,_t,$t,!1,null,null,null),Ot=kt.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("h1",[t._v("广告位列表")]),a("el-table",{attrs:{data:t.items}},[a("el-table-column",{attrs:{prop:"_id",label:"ID",width:"240"}}),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.$router.push("/ads/edit/"+e.row._id)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(a){return t.remove(e.row)}}},[t._v("删除")])]}}])})],1)],1)},St=[],jt={data(){return{items:[]}},methods:{async fetch(){const t=await this.$http.get("rest/ads");this.items=t.data},async remove(t){this.$confirm(`是否确定要删除【${t.name}】`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{await this.$http.delete("rest/ads/"+t._id);this.$message({type:"success",message:"删除成功!"}),this.fetch()})}},created(){this.fetch()}},Tt=jt,Et=Object(r["a"])(Tt,Ct,St,!1,null,null,null),Dt=Et.exports,Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("h1",[t._v(t._s(t.id?"编辑":"新建")+"管理员")]),a("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save(e)}}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{model:{value:t.model.username,callback:function(e){t.$set(t.model,"username",e)},expression:"model.username"}})],1),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{attrs:{type:"password"},model:{value:t.model.password,callback:function(e){t.$set(t.model,"password",e)},expression:"model.password"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("保存")])],1)],1)],1)},It=[],Pt={props:{id:{}},data(){return{model:{}}},methods:{async save(){let t;t=this.id?await this.$http.put("rest/admin_user/"+this.id,this.model):await this.$http.post("rest/admin_user",this.model),this.$router.push("/admin_user/list"),this.$message({type:"success",message:"保存成功"})},async fetch(){const t=await this.$http.get("rest/admin_user/"+this.id);this.model=t.data}},created(){this.id&&this.fetch()}},Ut=Pt,At=Object(r["a"])(Ut,Bt,It,!1,null,null,null),zt=At.exports,Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("h1",[t._v("管理员列表")]),a("el-table",{attrs:{data:t.items}},[a("el-table-column",{attrs:{prop:"_id",label:"ID",width:"240"}}),a("el-table-column",{attrs:{prop:"username",label:"用户名"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.$router.push("/admin_user/edit/"+e.row._id)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(a){return t.remove(e.row)}}},[t._v("删除")])]}}])})],1)],1)},Mt=[],Jt={data(){return{items:[]}},methods:{async fetch(){const t=await this.$http.get("rest/admin_user");this.items=t.data},async remove(t){this.$confirm(`是否确定要删除【${t.username}】`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{await this.$http.delete("rest/admin_user/"+t._id);this.$message({type:"success",message:"删除成功!"}),await this.fetch()})}},created(){this.fetch()}},Lt=Jt,Rt=Object(r["a"])(Lt,Ht,Mt,!1,null,null,null),qt=Rt.exports;s["default"].use(d["a"]);const Nt=[{path:"/login",name:"login",component:g,meta:{isPublic:!0}},{path:"/",name:"Main",component:k,children:[{path:"/categories/create",component:E},{path:"/categories/list",component:A},{path:"/categories/edit/:id",component:E,props:!0},{path:"/items/create",component:R},{path:"/items/list",component:K},{path:"/items/edit/:id",component:R,props:!0},{path:"/heroes/create",component:tt},{path:"/heroes/list",component:rt},{path:"/heroes/edit/:id",component:tt,props:!0},{path:"/articles/create",component:pt},{path:"/articles/list",component:yt},{path:"/articles/edit/:id",component:pt,props:!0},{path:"/ads/create",component:Ot},{path:"/ads/list",component:Dt},{path:"/ads/edit/:id",component:Ot,props:!0},{path:"/admin_user/create",component:zt},{path:"/admin_user/list",component:qt},{path:"/admin_user/edit/:id",component:zt,props:!0}]}],Ft=new d["a"]({routes:Nt});Ft.beforeEach((t,e,a)=>t.meta.isPublic||localStorage.token?"/login"===t.path&&localStorage.token?a("/"):void a():a("/login"));var Vt=Ft,Gt=(a("38c8"),a("bc3a")),Kt=a.n(Gt);const Qt=Kt.a.create({baseURL:"http://localhost:3000/admin/api"});Qt.interceptors.request.use(t=>(localStorage.token&&(t.headers.Authorization="Bearer "+localStorage.token),t),t=>Promise.reject(t)),Qt.interceptors.response.use(t=>t,t=>(t.response.data.message&&(console.log(t.response.data.message),s["default"].prototype.$message({type:"error",message:t.response.data.message})),401===t.response.status&&Vt.push("/login"),Promise.reject(t)));var Wt=Qt;s["default"].config.productionTip=!1,s["default"].prototype.$http=Wt,s["default"].mixin({computed:{uploadUrl(){return this.$http.defaults.baseURL+"/upload"}},methods:{getAuthHeader(){return{Authorization:"Bearer "+(localStorage.token||"")}}}}),new s["default"]({router:Vt,render:t=>t(c)}).$mount("#app")},8319:function(t,e,a){},"85ec":function(t,e,a){},d6db:function(t,e,a){"use strict";var s=a("e67a"),l=a.n(s);l.a},e67a:function(t,e,a){}});
//# sourceMappingURL=app.fdd8af60.js.map